head - 字体头表√
============================

本文内容
~~~~~~~~

此表提供字体的全局信息。应当 **仅** 使用包含轮廓的字形来计算边界框值。也就是说，对于没有轮廓的字形，在计算边界框时应当忽略。

+-----------------------+-----------------------+-----------------------+
| 类型                  | 名称                  | 描述                  |
+=======================+=======================+=======================+
| uint16                | majorVersion          | head表的主版本号      |
|                       |                       | — 设置为 1。          |
+-----------------------+-----------------------+-----------------------+
| uint16                | minorVersion          | head表的次版本号      |
|                       |                       | — 设置为 0。          |
+-----------------------+-----------------------+-----------------------+
| Fixed                 | fontRevision          | 由字体制造商设置。    |
+-----------------------+-----------------------+-----------------------+
| uint32                | checksumAdjustment	| 计算方法：将其设置为  |
|                       |                       | 0，将整个字体按uint32 |
|                       |                       | 求和为sum，然后存储值 |
|                       |                       | 0xB1B0AFBA - sum。如果|
|                       |                       | 字体是字体集合文      |
|                       |                       | 件的组件，则该字段    |
|                       |                       | 的值会因文件结构和字  |
|                       |                       | 体表目录的更          |
|                       |                       | 改而失效，必须忽略。  |
+-----------------------+-----------------------+-----------------------+
| uint32                | magicNumber           | 设置为 0x5F0F3CF5     |
+-----------------------+-----------------------+-----------------------+
| uint16                | flags                 || **位 0：** 字体的基  |
|                       |                       | 线是否位于y=0         |
|                       |                       || **位 1：** x=0       |
|                       |                       | 处的左跨距（仅与      |
|                       |                       | TrueType 光栅化       |
|                       |                       | 器相关）——请参阅表下  |
|                       |                       | 有关可变字体的注释。  |
|                       |                       || **位 2：** 指令集    |
|                       |                       | 可能依赖于点的大小。  |
|                       |                       || **位 3：** 强制 ppem |
|                       |                       | 为所有内部定标器数学  |
|                       |                       | 的整数值；如果该位被  |
|                       |                       | 置0 ，则可以使用小数  |
|                       |                       | ppem 大小。强烈建议   |
|                       |                       | 将其设置为提示字体。  |
|                       |                       || **位 4：**           |
|                       |                       | 指令可能会改          |
|                       |                       | 变提前宽度（提前宽度  |
|                       |                       | 可能不会线性缩放）。  |
|                       |                       || **位 5 ：**  OpenType|
|                       |                       | 中不使用该位，不应    |
|                       |                       | 设置此位以确保所有平  |
|                       |                       | 台上的兼容行为。如果  |
|                       |                       | 设置，它可能会导致某  |
|                       |                       | 些平台中垂直布局的不  |
|                       |                       | 同行为。              |
|                       |                       || **位 6–10：**        |
|                       |                       | 这些位在  Opentype    |
|                       |                       | 中不使用，应          |
|                       |                       | 始终清除。（有关Apple |
|                       |                       | 平台                  |
|                       |                       | 中使用的旧版本的详细  |
|                       |                       | 信息，请参阅\ `Apple  |
|                       |                       | 规范。）              |
|                       |                       | <http://developer.app |
|                       |                       | le.com/fonts//TrueTyp |
|                       |                       | e-Reference-Manual/RM |
|                       |                       | 06/Chap6head.html>`__ |
|                       |                       || **第 11 位：**       |
|                       |                       | 字体数据是“           |
|                       |                       | 无损”的，因为已经过优 |
|                       |                       | 化转换和/或压缩（例如 |
|                       |                       | ISO/IEC 14496         |
|                       |                       | 定义的压缩机制-       |
|                       |                       | 18、MicroType         |
|                       |                       | Express、WOFF 2.0     |
|                       |                       | 或类似版本），        |
|                       |                       | 其中保留了原始字体功  |
|                       |                       | 能和特性，但不保证输  |
|                       |                       | 入和输出字体文件之间  |
|                       |                       | 的二进制兼容性。作为  |
|                       |                       | 应用转换的结果，DSIG  |
|                       |                       | 表也可能无效。        |
|                       |                       || **第 12 位：**       |
|                       |                       | 字体转换              |
|                       |                       | （产生兼容的指标）。  |
|                       |                       || **位 13：**\ 针对    |
|                       |                       | ClearType™ 优化的字体 |
|                       |                       | 请注意，依赖嵌入位图  |
|                       |                       | (EBDT) 进行渲染       |
|                       |                       | 的字体不应被视为针对  |
|                       |                       | ClearType 进行了优化，|
|                       |                       | 因此应保持该位清除。  |
|                       |                       || **第 14 位：** Last  |
|                       |                       | Resort                |
|                       |                       | 字体。如果设置，则    |
|                       |                       | 表示在“cmap”子表中编  |
|                       |                       | 码的字形只是代码点范  |
|                       |                       | 围的通用符号表示，并  |
|                       |                       | 不真正代表对这些代码  |
|                       |                       | 点的支持。如果未设置  |
|                       |                       | ，则表示在“cmap”子表  |
|                       |                       | 中编码的字形表示对这  |
|                       |                       | 些代码点的正确支持。  |
|                       |                       || **位 15：**          |
|                       |                       | 保留，设置为0。       |
+-----------------------+-----------------------+-----------------------+
| uint16                | unitsPerEm            | 设置为 16 到 16384    |
|                       |                       | 之间的值。此范围内的  |
|                       |                       | 任何值都有效。为方便某|
|                       |                       | 些光栅器性能优化，在具|
|                       |                       | 有TrueType 轮廓的字体 |
|                       |                       | 中，建议设置为2的方幂 |
+-----------------------+-----------------------+-----------------------+
| LONGDATETIME          | created               | 自 1904 年 1 月 1 日  |
|                       |                       | GMT/UTC 时区午夜      |
|                       |                       | 12:00 开始的秒数      |
+-----------------------+-----------------------+-----------------------+
| LONGDATETIME          | modified              | 自 1904 年 1 月 1 日  |
|                       |                       | GMT/UTC 时区午夜      |
|                       |                       | 12:00 开始的秒数      |
+-----------------------+-----------------------+-----------------------+
| int16                 | xMin                  | 所有字形边界框的最小  |
|                       |                       | x 坐标。              |
+-----------------------+-----------------------+-----------------------+
| int16                 | yMin                  | 所有字形边界框的最小  |
|                       |                       | y 坐标。              |
+-----------------------+-----------------------+-----------------------+
| int16                 | xMax                  | 所有字形边界框的最大  |
|                       |                       | x 坐标。              |
+-----------------------+-----------------------+-----------------------+
| int16                 | yMax                  | 所有字形边界框的最大  |
|                       |                       | y 坐标。              |
+-----------------------+-----------------------+-----------------------+
| uint16                | macStyle              | **位  0：**           |
|                       |                       | 粗体（如果设置为1）   |
|                       |                       | **位  1：**           |
|                       |                       | 斜体（如果设置为1）   |
|                       |                       | **位  2：**           |
|                       |                       | 下划线（如果设置为1） |
|                       |                       | **位 3：**            |
|                       |                       | 外框（如果设置为1）   |
|                       |                       | **位 4：**            |
|                       |                       | 阴影（如果设置为 1）  |
|                       |                       | **位 5：**            |
|                       |                       | 紧缩（如果设置为1）   |
|                       |                       | **位 6：**            |
|                       |                       | 扩展（如果设置为1）   |
|                       |                       | **位 7 –15：**        |
|                       |                       | 保留（设置为0）       |
+-----------------------+-----------------------+-----------------------+
| uint16                | lowestRecPPEM         | 最小可读尺            |
|                       |                       | 寸（以像素为单位）。  |
+-----------------------+-----------------------+-----------------------+
| int16                 | fontDirectionHint     | 已弃用（设置为 2）。  |
|                       | （字体方向提示）      || 0：全混合方向字形；  |
|                       |                       || 1：严格从左到右；    |
|                       |                       || 2：与 1 类           |
|                       |                       | 似，但也包含中性字形；|
|                       |                       || -1：严格从右到左；   |
|                       |                       || -2：与 -1 类         |
|                       |                       | 似，但也包含中性字形。|
|                       |                       || （中性字符没有固定方 |
|                       |                       | 向；它并非宽度为零    |
|                       |                       | 的字符。例如空格和标点|
|                       |                       | 符号是中性字符。      |
|                       |                       | 非中性字符是具有固    |
|                       |                       | 定方向的字符。例如    |
|                       |                       | ，罗马字母（从左到右  |
|                       |                       | ）和阿拉伯字母（从右  |
|                       |                       | 到左）具有方向性。在  |
|                       |                       | 存在空格和标点符号的  |
|                       |                       | “正常”罗马字体中，    |
|                       |                       | 本值应设置为二。）    |
+-----------------------+-----------------------+-----------------------+
| int16                 | indexToLocFormat      || 0表示短偏移(Offset16)|
|                       |                       || 1表示长偏移(Offset32)|
+-----------------------+-----------------------+-----------------------+
| int16                 | glyphDataFormat       |  对当前格式设置为0。  |
+-----------------------+-----------------------+-----------------------+

unitsPerEm值用于确定字体坐标网格的粒度，可以在该粒度上为视觉元素（例如轮廓控制点或标记附件锚点位置）指定坐标。有关详细信息，请参阅TrueType基础章节。

字形的边界框是包含所有字形控制点的最小矩形。（有关更多信息，请参阅“glyf”表章节。）xMin、yMin、xMax 和 yMax
值提供了一个边界框，它将包含字体中的所有字形，没有轮廓的字形将被忽略。

请注意，macStyle 位必须与 OS/2 表fsSelection位一致。fsSelection 位在 Microsoft Windows 中用于
macStyle 位。在确定粗体或斜体字体时会忽略PANOSE 值及“post”表值。

由于历史原因，Windows 不使用此表中的fontRevision值来确定字体的版本。相反，Windows 通过“name”表中的版本字符串 (ID 5)来获取版本号。

请注意，在具有TrueType轮廓的可变字体中，每个字形的左跨距必须等于xMin，并且标志中的第一位必须设置为1。此外，所有可变字体中的第 5位必须设置为0。有关OpenType字体变体的一般信息，请参阅章节OpenType可变字体概述 。

此外，在可变字体中，控制点的x或y坐标的最大最小值可以变化。因此，对任何给定字形的一个实例的轮廓，包含它所有点的紧密边界框可能小于或大于默认实例的边界框。此表中的
xMin、yMin、xMax 和 yMax 值可能包围也可能无法包围一个实例的派生字形轮廓。同样，没有为这些值提供变化增量。对一个字体的非默认实例，如果某个应用程序需要包围所有字形的边界框，则应通过计算该实例的派生字形轮廓以确定边界框。
