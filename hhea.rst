hhea - 水平表头√
=================

此表包含水平布局的信息。计算 minRightSidebearing、minLeftSideBearing 和 xMaxExtent
的值时应 **仅** 使用具有轮廓的字形。也就是说，计算以上值时，应忽略没有轮廓的字形。所有保留值必须设置为0。

+-----------------------+-----------------------+-----------------------+
| 类型                  | 名称                  | 说明                  |
+-----------------------+-----------------------+-----------------------+
| uint16                | majorVersion          | 本表的主要版本号      |
|                       |                       | — 设置为 1。          |
+-----------------------+-----------------------+-----------------------+
| uint16                | minorVersion          | 本表的次要版本号      |
|                       |                       | - 设置为 0。          |
+-----------------------+-----------------------+-----------------------+
| FWORD                 | ascender              | 上升部——见注释。      |
+-----------------------+-----------------------+-----------------------+
| FWORD                 | descender             | 下降部——见注释。      |
+-----------------------+-----------------------+-----------------------+
| FWORD                 | lineGap               | 行间距。在某些平台的  |
|                       |                       | 实现中，负值被视为零。|
+-----------------------+-----------------------+-----------------------+
| UFWORD                | advanceWidthMax       | 'hmtx'表              |
|                       |                       | 中的最大步进宽度值。  |
+-----------------------+-----------------------+-----------------------+
| FWORD                 | minLeftSideBearing    | 'hmtx' 表中带有       |
|                       |                       | 轮廓的字形的最小左跨  |
|                       |                       | 距（应忽略空字形）。  |
+-----------------------+-----------------------+-----------------------+
| FWORD                 | minRightSideBearing   | 最小右跨距；对于包含  |
|                       |                       | 轮廓的字形，计算方式  |
|                       |                       | 为min(aw - (lsb + xMax|
|                       |                       | - xMin))              |
|                       |                       | （应忽略空字形）。    |
+-----------------------+-----------------------+-----------------------+
| FWORD                 | xMaxExtent            |max(lsb + (xMax -xMin))|
+-----------------------+-----------------------+-----------------------+
| int16                 | caretSlopeRise        | 勾数，用于计算光标的斜|
|                       |                       | 率（勾/股）；1为垂直。|
+-----------------------+-----------------------+-----------------------+
| int16                 | caretSlopeRun         | 股数，0 表示垂直。    |
+-----------------------+-----------------------+-----------------------+
| int16                 | caretOffset           | 为产生最佳外观，字形的|
|                       |                       | 倾斜高亮显示需要移动的|
|                       |                       | 量。非倾斜字体设置为0 |
+-----------------------+-----------------------+-----------------------+
| int16                 | (reserved)            | 设置为 0              |
+-----------------------+-----------------------+-----------------------+
| int16                 | (reserved)            | 设置为 0              |
+-----------------------+-----------------------+-----------------------+
| int16                 | (reserved)            | 设置为 0              |
+-----------------------+-----------------------+-----------------------+
| int16                 | (reserved)            | 设置为 0              |
+-----------------------+-----------------------+-----------------------+
| int16                 | metricDataFormat      | 当前格式设置为0       |
+-----------------------+-----------------------+-----------------------+
| uint16                | numberOfHMetrics      | “hmtx”表中的 hMetric  |
|                       |                       | 条目数量              |
+-----------------------+-----------------------+-----------------------+

.. attention::

   此表中的上升部、下降部和线间距的值是苹果规定的；有关苹果平台的详细信息，请参阅Apple   规范。Windows平台使用OS/2表中的sTypoAscender、sTypoDescender和sTypoLineGap字段。对于新的文本布局实现，建议使用OS/2表中的字段。目标应用程序可能使用此表或者OS/2表相应字段。因此，为了确保一致的布局，字体开发人员应当分别测试使用相应字段的表现。对于其他详细信息，请参阅OS/2有关字段的描述。

'hhea' 表和 可变 OpenType 字体
------------------------------------------

在可变字体中，为适配不同的字体实例，可能需要调整本表各个字体度量值。可变度量(MVAR)表可以提供“hhea”条目的变量数据。不同的“hhea”条目关联MVAR表中特定的数据。它们的对应关系如下所示：

================= ======
'hhea' 条目        标签
caretOffset       'hcof'
caretSlopeRise    'hcrs'
caretSlopeRun     'hcrn'
================= ======

有关可变OpenType字体的更多信息，请参阅“可变OpenType字体概述”章节。
